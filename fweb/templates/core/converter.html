{% extends 'core/base.html' %}
{% load static %} {% block title %}{{ category|title
}} Tools - Filemac{% endblock %} {% block content %}
<div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
  <!-- Category Header -->
  <div class="mb-8" data-aos="fade-up">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
      {{ category|title }} Tools
    </h1>
    <p class="text-gray-600 dark:text-gray-400">Select a tool to get started</p>
  </div>

  <!-- Tools Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Tools Navigation -->
    <div class="lg:col-span-1" data-aos="fade-right">

      <div
        class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 sticky top-6"
      >
        <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">
          Available Tools
        </h3>
        <div class="space-y-2">
          {% for tool in tools %}
          <button
            onclick="window.toolHandler.showTool('{{ tool.id }}')"
            class="tool-nav w-full text-left p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors tool-{{ tool.id }}"
          >
            <div class="flex items-center justify-between">
              <span class="font-medium text-gray-700 dark:text-gray-300"
                >{{ tool.name }}</span
              >
              <svg class="w-5 h-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M471.1 297.4C483.6 309.9 483.6 330.2 471.1 342.7L279.1 534.7C266.6 547.2 246.3 547.2 233.8 534.7C221.3 522.2 221.3 501.9 233.8 489.4L403.2 320L233.9 150.6C221.4 138.1 221.4 117.8 233.9 105.3C246.4 92.8 266.7 92.8 279.2 105.3L471.2 297.3z"/></svg>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
              {{ tool.description }}
            </p>
          </button>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Tool Interface -->
    <div class="lg:col-span-2" data-aos="fade-left">
      <div
        id="tool-interface"
        class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"
      >
        <div class="text-center py-12 text-gray-500 dark:text-gray-400">
          <span class="flex justify-center mb-4">
            <svg class="w-12 h-12 fill-sky-500 dark:fill-gray-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M295.4 37L310.2 73.8L347 88.6C350 89.8 352 92.8 352 96C352 99.2 350 102.2 347 103.4L310.2 118.2L295.4 155C294.2 158 291.2 160 288 160C284.8 160 281.8 158 280.6 155L265.8 118.2L229 103.4C226 102.2 224 99.2 224 96C224 92.8 226 89.8 229 88.6L265.8 73.8L280.6 37C281.8 34 284.8 32 288 32C291.2 32 294.2 34 295.4 37zM142.7 105.7L164.2 155.8L214.3 177.3C220.2 179.8 224 185.6 224 192C224 198.4 220.2 204.2 214.3 206.7L164.2 228.2L142.7 278.3C140.2 284.2 134.4 288 128 288C121.6 288 115.8 284.2 113.3 278.3L91.8 228.2L41.7 206.7C35.8 204.2 32 198.4 32 192C32 185.6 35.8 179.8 41.7 177.3L91.8 155.8L113.3 105.7C115.8 99.8 121.6 96 128 96C134.4 96 140.2 99.8 142.7 105.7zM496 368C502.4 368 508.2 371.8 510.7 377.7L532.2 427.8L582.3 449.3C588.2 451.8 592 457.6 592 464C592 470.4 588.2 476.2 582.3 478.7L532.2 500.2L510.7 550.3C508.2 556.2 502.4 560 496 560C489.6 560 483.8 556.2 481.3 550.3L459.8 500.2L409.7 478.7C403.8 476.2 400 470.4 400 464C400 457.6 403.8 451.8 409.7 449.3L459.8 427.8L481.3 377.7C483.8 371.8 489.6 368 496 368zM492 64C503 64 513.6 68.4 521.5 76.2L563.8 118.5C571.6 126.4 576 137 576 148C576 159 571.6 169.6 563.8 177.5L475.6 265.7L374.3 164.4L462.5 76.2C470.4 68.4 481 64 492 64zM76.2 462.5L340.4 198.3L441.7 299.6L177.5 563.8C169.6 571.6 159 576 148 576C137 576 126.4 571.6 118.5 563.8L76.2 521.5C68.4 513.6 64 503 64 492C64 481 68.4 470.4 76.2 462.5z"/></svg>
          </span>
          <h3 class="text-xl font-semibold mb-2 font-normal">Select a Tool</h3>
          <p>
            Choose a tool from the left sidebar to start processing your files
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block extra_scripts %}
<script>
  // Tool definitions based on your CLI arguments
  const tools = {
      {% for tool in tools %}
      '{{ tool.id }}': {
          name: '{{ tool.name }}',
          template: `{{ tool.template|safe }}`
      },
      {% endfor %}
  };

  function window.toolHandler.showTool(toolId) {
      const toolInterface = document.getElementById('tool-interface');
      const tool = tools[toolId];

      if (tool) {
          toolInterface.innerHTML = tool.template;

          // Update active nav item
          document.querySelectorAll('.tool-nav').forEach(nav => {
              nav.classList.remove('bg-blue-50', 'dark:bg-blue-900', 'border-blue-500');
          });
          document.querySelector(`.tool-${toolId}`).classList.add('bg-blue-50', 'dark:bg-blue-900', 'border-blue-500', 'border-r-4');

          // Initialize tool-specific functionality
          initializeTool(toolId);
      }
  }

  function initializeTool(toolId) {
      // Tool-specific initialization
      switch(toolId) {
          case 'convert_doc':
              setupFileDropZone('doc-drop-zone', 'doc-file-input');
              break;
          case 'convert_audio':
              setupFileDropZone('audio-drop-zone', 'audio-file-input');
              break;
          // Add more cases for other tools
      }
  }
</script>
{% endblock %}
