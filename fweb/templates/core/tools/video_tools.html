<!-- Video Conversion -->
<div id="tool-convert_video" class="tool-interface hidden">
  <div class="flex items-center justify-between mb-6">
    <h3 class="flex gap-2 text-xl font-semibold text-gray-900 dark:text-white">
      <svg class="fill-purple-500 dark:fill-purple-300 w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 128C92.7 128 64 156.7 64 192L64 448C64 483.3 92.7 512 128 512L384 512C419.3 512 448 483.3 448 448L448 192C448 156.7 419.3 128 384 128L128 128zM496 400L569.5 458.8C573.7 462.2 578.9 464 584.3 464C597.4 464 608 453.4 608 440.3L608 199.7C608 186.6 597.4 176 584.3 176C578.9 176 573.7 177.8 569.5 181.2L496 240L496 400z"/></svg>Video Conversion
    </h3>
    <span
      class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs px-2 py-1 rounded"
      >MP4, MKV, AVI</span
    >
  </div>

  <form id="video-convert-form" class="space-y-6">
    {% csrf_token %}

    <!-- File Upload -->
    <div>
      <label
        class="flex gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
      >
        <svg class="h-5 w-5 fill-gray-700 dark:fill-gray-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M96 160C96 124.7 124.7 96 160 96L480 96C515.3 96 544 124.7 544 160L544 480C544 515.3 515.3 544 480 544L160 544C124.7 544 96 515.3 96 480L96 160zM144 432L144 464C144 472.8 151.2 480 160 480L192 480C200.8 480 208 472.8 208 464L208 432C208 423.2 200.8 416 192 416L160 416C151.2 416 144 423.2 144 432zM448 416C439.2 416 432 423.2 432 432L432 464C432 472.8 439.2 480 448 480L480 480C488.8 480 496 472.8 496 464L496 432C496 423.2 488.8 416 480 416L448 416zM144 304L144 336C144 344.8 151.2 352 160 352L192 352C200.8 352 208 344.8 208 336L208 304C208 295.2 200.8 288 192 288L160 288C151.2 288 144 295.2 144 304zM448 288C439.2 288 432 295.2 432 304L432 336C432 344.8 439.2 352 448 352L480 352C488.8 352 496 344.8 496 336L496 304C496 295.2 488.8 288 480 288L448 288zM144 176L144 208C144 216.8 151.2 224 160 224L192 224C200.8 224 208 216.8 208 208L208 176C208 167.2 200.8 160 192 160L160 160C151.2 160 144 167.2 144 176zM448 160C439.2 160 432 167.2 432 176L432 208C432 216.8 439.2 224 448 224L480 224C488.8 224 496 216.8 496 208L496 176C496 167.2 488.8 160 480 160L448 160z"/></svg>Upload Video Files
      </label>
      <div
        id="video-drop-zone"
        class="file-drop-zone rounded-lg p-6 text-center cursor-pointer border-2 border-dashed"
      >
        <div class="drop-placeholder">
            <span class="flex justify-center">
            <svg
              class="h-12 w-12 fill-gray-400 dark:fill-gray-200 mb-3"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"
            >
              <path
                d="M176 544C96.5 544 32 479.5 32 400C32 336.6 73 282.8 129.9 263.5C128.6 255.8 128 248 128 240C128 160.5 192.5 96 272 96C327.4 96 375.5 127.3 399.6 173.1C413.8 164.8 430.4 160 448 160C501 160 544 203 544 256C544 271.7 540.2 286.6 533.5 299.7C577.5 320 608 364.4 608 416C608 486.7 550.7 544 480 544L176 544zM337 255C327.6 245.6 312.4 245.6 303.1 255L231.1 327C221.7 336.4 221.7 351.6 231.1 360.9C240.5 370.2 255.7 370.3 265 360.9L296 329.9L296 432C296 445.3 306.7 456 320 456C333.3 456 344 445.3 344 432L344 329.9L375 360.9C384.4 370.3 399.6 370.3 408.9 360.9C418.2 351.5 418.3 336.3 408.9 327L336.9 255z"
              />
            </svg>
          </span>
          <p class="text-lg font-medium text-gray-600 dark:text-gray-400">
            Drop your video files here
          </p>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
            or click to browse (MP4, MKV, AVI, MOV)
          </p>
        </div>
        <div class="file-list mt-4 space-y-2"></div>
      </div>
      <input
        type="file"
        id="video-file-input"
        name="files"
        multiple
        accept=".mp4,.mkv,.avi,.mov,.wmv,.flv"
        class="hidden"
      />
    </div>

    <!-- Video Settings -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >
          Target Format
        </label>
        <select
          name="target_format"
          class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        >
          <option value="mp4">MP4 (H.264)</option>
          <option value="mkv">MKV</option>
          <option value="avi">AVI</option>
          <option value="mov">MOV</option>
          <option value="webm">WebM</option>
          <option value="gif">Animated GIF</option>
        </select>
      </div>

      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >
          Video Quality
        </label>
        <select
          name="quality"
          class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        >
          <option value="high">High Quality</option>
          <option value="medium" selected>Medium Quality</option>
          <option value="low">Low Quality</option>
          <option value="original">Original Quality</option>
        </select>
      </div>
    </div>

    <!-- Codec and Bitrate Settings -->
    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
      <label
        class="flex items-center justify-between cursor-pointer"
        onclick="toggleAdvanced('video-codec')"
      >
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300"
          >Codec & Bitrate Settings</span
        >
          <svg class="h-5 w-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">><path d="M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z"/></svg>
      </label>
      <div
        id="video-codec"
        class="mt-3 hidden grid grid-cols-1 md:grid-cols-3 gap-4"
      >
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >Video Codec</label
          >
          <select
            name="video_codec"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          >
            <option value="h264">H.264</option>
            <option value="h265">H.265 (HEVC)</option>
            <option value="vp9">VP9</option>
            <option value="av1">AV1</option>
          </select>
        </div>
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >Audio Codec</label
          >
          <select
            name="audio_codec"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          >
            <option value="aac">AAC</option>
            <option value="mp3">MP3</option>
            <option value="opus">Opus</option>
            <option value="flac">FLAC</option>
          </select>
        </div>
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >Bitrate (Mbps)</label
          >
          <input
            type="number"
            name="bitrate"
            value="2"
            min="0.5"
            max="50"
            step="0.5"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          />
        </div>
      </div>
    </div>

    <!-- Resolution and Frame Rate -->
    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
      <label
        class="flex items-center justify-between cursor-pointer"
        onclick="toggleAdvanced('video-resolution')"
      >
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300"
          >Resolution & Frame Rate</span
        >
          <svg class="h-5 w-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">><path d="M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z"/></svg>
      </label>
      <div
        id="video-resolution"
        class="mt-3 hidden grid grid-cols-1 md:grid-cols-2 gap-4"
      >
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >Resolution</label
          >
          <select
            name="resolution"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          >
            <option value="original">Original</option>
            <option value="4k">4K (3840x2160)</option>
            <option value="1440p">1440p (2560x1440)</option>
            <option value="1080p">1080p (1920x1080)</option>
            <option value="720p">720p (1280x720)</option>
            <option value="480p">480p (854x480)</option>
          </select>
        </div>
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >Frame Rate</label
          >
          <select
            name="framerate"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          >
            <option value="original">Original</option>
            <option value="60">60 fps</option>
            <option value="30">30 fps</option>
            <option value="24">24 fps</option>
          </select>
        </div>
      </div>
    </div>

    <div class="flex space-x-4">
      <button
        type="submit"
        class="flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
      >
        <span class="flex justify-center items-center gap-2">
          <svg class="h-5 w-5 fill-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M544.1 256L552 256C565.3 256 576 245.3 576 232L576 88C576 78.3 570.2 69.5 561.2 65.8C552.2 62.1 541.9 64.2 535 71L483.3 122.8C439 86.1 382 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6C143.2 199.5 223.3 128 320 128C364.4 128 405.2 143 437.7 168.3L391 215C384.1 221.9 382.1 232.2 385.8 241.2C389.5 250.2 398.3 256 408 256L544.1 256zM573.5 356.5C576 339 563.8 322.8 546.4 320.3C529 317.8 512.7 330 510.2 347.4C496.9 440.4 416.8 511.9 320.1 511.9C275.7 511.9 234.9 496.9 202.4 471.6L249 425C255.9 418.1 257.9 407.8 254.2 398.8C250.5 389.8 241.7 384 232 384L88 384C74.7 384 64 394.7 64 408L64 552C64 561.7 69.8 570.5 78.8 574.2C87.8 577.9 98.1 575.8 105 569L156.8 517.2C201 553.9 258 576 320 576C449 576 555.7 480.6 573.4 356.5z"/></svg>Convert Videos
        </span>
      </button>
      <button
        type="button"
        onclick="clearForm('video-convert-form')"
        class="px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
      >
        Clear
      </button>
    </div>
  </form>
</div>

<!-- Video Analysis -->
<div id="tool-analyze_video" class="tool-interface hidden">
  <div class="flex items-center justify-between mb-6">
    <h3 class="flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white">
      <svg class="h-5 w-5 fill-green-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M96 96C113.7 96 128 110.3 128 128L128 464C128 472.8 135.2 480 144 480L544 480C561.7 480 576 494.3 576 512C576 529.7 561.7 544 544 544L144 544C99.8 544 64 508.2 64 464L64 128C64 110.3 78.3 96 96 96zM192 160C192 142.3 206.3 128 224 128L416 128C433.7 128 448 142.3 448 160C448 177.7 433.7 192 416 192L224 192C206.3 192 192 177.7 192 160zM224 240L352 240C369.7 240 384 254.3 384 272C384 289.7 369.7 304 352 304L224 304C206.3 304 192 289.7 192 272C192 254.3 206.3 240 224 240zM224 352L480 352C497.7 352 512 366.3 512 384C512 401.7 497.7 416 480 416L224 416C206.3 416 192 401.7 192 384C192 366.3 206.3 352 224 352z"/></svg>Video Analysis
    </h3>
    <span
      class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs px-2 py-1 rounded"
      >Metadata & Analytics</span
    >
  </div>

  <form id="video-analyze-form" class="space-y-6">
    {% csrf_token %}

    <!-- Single Video Upload -->
    <div>
      <label
        class="flex gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
      >
        <svg class="fill-purple-500 dark:fill-purple-300 w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 128C92.7 128 64 156.7 64 192L64 448C64 483.3 92.7 512 128 512L384 512C419.3 512 448 483.3 448 448L448 192C448 156.7 419.3 128 384 128L128 128zM496 400L569.5 458.8C573.7 462.2 578.9 464 584.3 464C597.4 464 608 453.4 608 440.3L608 199.7C608 186.6 597.4 176 584.3 176C578.9 176 573.7 177.8 569.5 181.2L496 240L496 400z"/></svg>Upload Video for Analysis
      </label>
      <div
        id="analyze-video-drop-zone"
        class="file-drop-zone rounded-lg p-6 text-center cursor-pointer border-2 border-dashed"
      >
        <div class="drop-placeholder">
            <span class="flex justify-center">
            <svg
              class="h-12 w-12 fill-gray-400 dark:fill-gray-200 mb-3"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"
            >
              <path
                d="M176 544C96.5 544 32 479.5 32 400C32 336.6 73 282.8 129.9 263.5C128.6 255.8 128 248 128 240C128 160.5 192.5 96 272 96C327.4 96 375.5 127.3 399.6 173.1C413.8 164.8 430.4 160 448 160C501 160 544 203 544 256C544 271.7 540.2 286.6 533.5 299.7C577.5 320 608 364.4 608 416C608 486.7 550.7 544 480 544L176 544zM337 255C327.6 245.6 312.4 245.6 303.1 255L231.1 327C221.7 336.4 221.7 351.6 231.1 360.9C240.5 370.2 255.7 370.3 265 360.9L296 329.9L296 432C296 445.3 306.7 456 320 456C333.3 456 344 445.3 344 432L344 329.9L375 360.9C384.4 370.3 399.6 370.3 408.9 360.9C418.2 351.5 418.3 336.3 408.9 327L336.9 255z"
              />
            </svg>
          </span>
          <p class="text-lg font-medium text-gray-600 dark:text-gray-400">
            Drop a video file here
          </p>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
            or click to browse (MP4, MKV, AVI)
          </p>
        </div>
        <div class="file-list mt-4 space-y-2"></div>
      </div>
      <input
        type="file"
        id="analyze-video-file-input"
        name="file"
        accept=".mp4,.mkv,.avi,.mov"
        class="hidden"
      />
    </div>

    <!-- Analysis Options -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
        >
          Analysis Type
        </label>
        <div class="space-y-2">
          <label
            class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"
          >
            <input
              type="radio"
              name="analysis_type"
              value="basic"
              class="text-green-600 focus:ring-green-500"
              checked
            />
            <span class="ml-2 text-sm">Basic Metadata</span>
          </label>
          <label
            class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"
          >
            <input
              type="radio"
              name="analysis_type"
              value="technical"
              class="text-green-600 focus:ring-green-500"
            />
            <span class="ml-2 text-sm">Technical Analysis</span>
          </label>
          <label
            class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"
          >
            <input
              type="radio"
              name="analysis_type"
              value="quality"
              class="text-green-600 focus:ring-green-500"
            />
            <span class="ml-2 text-sm">Quality Assessment</span>
          </label>
        </div>
      </div>

      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
        >
          Additional Features
        </label>
        <div class="space-y-2">
          <label class="flex items-center">
            <input
              type="checkbox"
              name="generate_thumbnails"
              class="rounded border-gray-300 text-green-600"
            />
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
              >Generate thumbnails</span
            >
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              name="extract_audio"
              class="rounded border-gray-300 text-green-600"
            />
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
              >Extract audio analysis</span
            >
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              name="detect_scenes"
              class="rounded border-gray-300 text-green-600"
            />
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
              >Detect scene changes</span
            >
          </label>
        </div>
      </div>
    </div>

    <div class="flex space-x-4">
      <button
        type="submit"
        class="flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
      >
        <span class="flex justify-center items-center gap-2">
          <svg class="h-5 w-5 fill-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 128C128 110.3 113.7 96 96 96C78.3 96 64 110.3 64 128L64 464C64 508.2 99.8 544 144 544L544 544C561.7 544 576 529.7 576 512C576 494.3 561.7 480 544 480L144 480C135.2 480 128 472.8 128 464L128 128zM534.6 214.6C547.1 202.1 547.1 181.8 534.6 169.3C522.1 156.8 501.8 156.8 489.3 169.3L384 274.7L326.6 217.4C314.1 204.9 293.8 204.9 281.3 217.4L185.3 313.4C172.8 325.9 172.8 346.2 185.3 358.7C197.8 371.2 218.1 371.2 230.6 358.7L304 285.3L361.4 342.7C373.9 355.2 394.2 355.2 406.7 342.7L534.7 214.7z"/></svg>Analyze Video
        </span>
      </button>
      <button
        type="button"
        onclick="previewAnalysis()"
        class="px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
      >
          <!--Eye-->
        <span class="flex justify-center items-center gap-2">
          <svg clas="h-5 w-5 fill-gray-500 dark:fill-gray-200" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M320 96C239.2 96 174.5 132.8 127.4 176.6C80.6 220.1 49.3 272 34.4 307.7C31.1 315.6 31.1 324.4 34.4 332.3C49.3 368 80.6 420 127.4 463.4C174.5 507.1 239.2 544 320 544C400.8 544 465.5 507.2 512.6 463.4C559.4 419.9 590.7 368 605.6 332.3C608.9 324.4 608.9 315.6 605.6 307.7C590.7 272 559.4 220 512.6 176.6C465.5 132.9 400.8 96 320 96zM176 320C176 240.5 240.5 176 320 176C399.5 176 464 240.5 464 320C464 399.5 399.5 464 320 464C240.5 464 176 399.5 176 320zM320 256C320 291.3 291.3 320 256 320C244.5 320 233.7 317 224.3 311.6C223.3 322.5 224.2 333.7 227.2 344.8C240.9 396 293.6 426.4 344.8 412.7C396 399 426.4 346.3 412.7 295.1C400.5 249.4 357.2 220.3 311.6 224.3C316.9 233.6 320 244.4 320 256z"/></svg>Preview
        </span>
      </button>
    </div>
  </form>

  <!-- Analysis Results -->
  <div id="analysis-results" class="mt-6 hidden">
    <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">
      Analysis Results
    </h4>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Basic Info -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h5 class="font-semibold mb-3 text-gray-900 dark:text-white">
          Basic Information
        </h5>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Duration:</span>
            <span class="font-medium" id="info-duration">-</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">File Size:</span>
            <span class="font-medium" id="info-size">-</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Format:</span>
            <span class="font-medium" id="info-format">-</span>
          </div>
        </div>
      </div>

      <!-- Video Stream -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h5 class="font-semibold mb-3 text-gray-900 dark:text-white">
          Video Stream
        </h5>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Resolution:</span>
            <span class="font-medium" id="video-resolution">-</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Codec:</span>
            <span class="font-medium" id="video-codec">-</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Bitrate:</span>
            <span class="font-medium" id="video-bitrate">-</span>
          </div>
        </div>
      </div>

      <!-- Audio Stream -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h5 class="font-semibold mb-3 text-gray-900 dark:text-white">
          Audio Stream
        </h5>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Codec:</span>
            <span class="font-medium" id="audio-codec">-</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Channels:</span>
            <span class="font-medium" id="audio-channels">-</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">Sample Rate:</span>
            <span class="font-medium" id="audio-sample-rate">-</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Thumbnails Preview -->
    <div id="thumbnails-section" class="mt-6 hidden">
      <h5 class="font-semibold mb-3 text-gray-900 dark:text-white">
        Video Thumbnails
      </h5>
      <div id="thumbnails-container" class="grid grid-cols-4 gap-2">
        <!-- Thumbnails will be generated here -->
      </div>
    </div>
  </div>
</div>

<!-- Audio Extraction from Video -->
<div id="tool-extract_audio" class="tool-interface hidden">
  <div class="flex items-center justify-between mb-6">
    <h3 class="flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white">
      <i class="fas fa-music text-blue-500 mr-2"></i>
      <svg class="fill-blue-600 dark:fill-white w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M532 71C539.6 77.1 544 86.3 544 96L544 400C544 444.2 501 480 448 480C395 480 352 444.2 352 400C352 355.8 395 320 448 320C459.2 320 470 321.6 480 324.6L480 207.9L256 257.7L256 464C256 508.2 213 544 160 544C107 544 64 508.2 64 464C64 419.8 107 384 160 384C171.2 384 182 385.6 192 388.6L192 160C192 145 202.4 132 217.1 128.8L505.1 64.8C514.6 62.7 524.5 65 532.1 71.1z"/></svg>Extract Audio from Video
    </h3>
    <span
      class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded"
      >MP3, WAV</span
    >
  </div>

  <form id="audio-extract-form" class="space-y-6">
    {% csrf_token %}

    <!-- Video Upload -->
    <div>
      <label
        class="flex gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
      >
        <svg class="fill-gray-700 dark:fill-gray-300 w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 128C92.7 128 64 156.7 64 192L64 448C64 483.3 92.7 512 128 512L384 512C419.3 512 448 483.3 448 448L448 192C448 156.7 419.3 128 384 128L128 128zM496 400L569.5 458.8C573.7 462.2 578.9 464 584.3 464C597.4 464 608 453.4 608 440.3L608 199.7C608 186.6 597.4 176 584.3 176C578.9 176 573.7 177.8 569.5 181.2L496 240L496 400z"/></svg>Upload Video Files
      </label>
      <div
        id="extract-video-drop-zone"
        class="file-drop-zone rounded-lg p-6 text-center cursor-pointer border-2 border-dashed"
      >
        <div class="drop-placeholder">
          <span class="flex justify-center">
            <svg class="h-12 w-12 fill-gray-400 dark:fill-gray-200 mb-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M176 544C96.5 544 32 479.5 32 400C32 336.6 73 282.8 129.9 263.5C128.6 255.8 128 248 128 240C128 160.5 192.5 96 272 96C327.4 96 375.5 127.3 399.6 173.1C413.8 164.8 430.4 160 448 160C501 160 544 203 544 256C544 271.7 540.2 286.6 533.5 299.7C577.5 320 608 364.4 608 416C608 486.7 550.7 544 480 544L176 544zM337 255C327.6 245.6 312.4 245.6 303.1 255L231.1 327C221.7 336.4 221.7 351.6 231.1 360.9C240.5 370.2 255.7 370.3 265 360.9L296 329.9L296 432C296 445.3 306.7 456 320 456C333.3 456 344 445.3 344 432L344 329.9L375 360.9C384.4 370.3 399.6 370.3 408.9 360.9C418.2 351.5 418.3 336.3 408.9 327L336.9 255z"/></svg>
          </span>          <p class="text-lg font-medium text-gray-600 dark:text-gray-400">
            Drop video files here
          </p>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
            Audio will be extracted from videos
          </p>
        </div>
        <div class="file-list mt-4 space-y-2"></div>
      </div>
      <input
        type="file"
        id="extract-video-file-input"
        name="files"
        multiple
        accept=".mp4,.mkv,.avi,.mov"
        class="hidden"
      />
    </div>

    <!-- Audio Output Settings -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >
          Output Format
        </label>
        <select
          name="audio_format"
          class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        >
          <option value="mp3">MP3</option>
          <option value="wav">WAV</option>
          <option value="flac">FLAC</option>
          <option value="m4a">M4A</option>
          <option value="ogg">OGG</option>
        </select>
      </div>

      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >
          Audio Quality
        </label>
        <select
          name="audio_quality"
          class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        >
          <option value="320">320 kbps (Best)</option>
          <option value="256">256 kbps (High)</option>
          <option value="192" selected>192 kbps (Good)</option>
          <option value="128">128 kbps (Standard)</option>
        </select>
      </div>
    </div>

    <!-- Extraction Options -->
    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
      <label
        class="flex items-center justify-between cursor-pointer"
        onclick="toggleAdvanced('extraction-options')"
      >
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300"
          >Extraction Options</span
        >
          <svg class="h-5 w-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">><path d="M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z"/></svg>
      </label>
      <div id="extraction-options" class="mt-3 hidden space-y-3">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
              >Start Time (seconds)</label
            >
            <input
              type="number"
              name="start_time"
              value="0"
              min="0"
              class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
            />
          </div>
          <div>
            <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
              >Duration (seconds)</label
            >
            <input
              type="number"
              name="duration"
              placeholder="Full duration"
              class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
            />
          </div>
        </div>
        <label class="flex items-center">
          <input
            type="checkbox"
            name="normalize_audio"
            class="rounded border-gray-300 text-blue-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
            >Normalize audio levels</span
          >
        </label>
      </div>
    </div>

    <div class="flex space-x-4">
      <button
        type="submit"
        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
      >
        <span class="flex justify-center items-center gap-2">
          <svg class="h-5 w-5 fill-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M566.6 214.6L470.6 310.6C461.4 319.8 447.7 322.5 435.7 317.5C423.7 312.5 416 300.9 416 288L416 224L96 224C78.3 224 64 209.7 64 192C64 174.3 78.3 160 96 160L416 160L416 96C416 83.1 423.8 71.4 435.8 66.4C447.8 61.4 461.5 64.2 470.7 73.3L566.7 169.3C579.2 181.8 579.2 202.1 566.7 214.6zM169.3 566.6L73.3 470.6C60.8 458.1 60.8 437.8 73.3 425.3L169.3 329.3C178.5 320.1 192.2 317.4 204.2 322.4C216.2 327.4 224 339.1 224 352L224 416L544 416C561.7 416 576 430.3 576 448C576 465.7 561.7 480 544 480L224 480L224 544C224 556.9 216.2 568.6 204.2 573.6C192.2 578.6 178.5 575.8 169.3 566.7z"/></svg>Extract Audio
        </span>
      </button>
      <button
        type="button"
        onclick="clearForm('audio-extract-form')"
        class="px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
      >
        Clear
      </button>
    </div>
  </form>
</div>
