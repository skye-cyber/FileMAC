<!-- Batch Processing Dashboard -->
<div id="tool-batch_dashboard" class="tool-interface hidden">
  <div class="flex items-center justify-between mb-6">
    <h3 class="flex gap-2 text-xl font-semibold text-gray-900 dark:text-white">
      <svg class="w-7 h-7 fill-purple-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M296.5 69.2C311.4 62.3 328.6 62.3 343.5 69.2L562.1 170.2C570.6 174.1 576 182.6 576 192C576 201.4 570.6 209.9 562.1 213.8L343.5 314.8C328.6 321.7 311.4 321.7 296.5 314.8L77.9 213.8C69.4 209.8 64 201.3 64 192C64 182.7 69.4 174.1 77.9 170.2L296.5 69.2zM112.1 282.4L276.4 358.3C304.1 371.1 336 371.1 363.7 358.3L528 282.4L562.1 298.2C570.6 302.1 576 310.6 576 320C576 329.4 570.6 337.9 562.1 341.8L343.5 442.8C328.6 449.7 311.4 449.7 296.5 442.8L77.9 341.8C69.4 337.8 64 329.3 64 320C64 310.7 69.4 302.1 77.9 298.2L112 282.4zM77.9 426.2L112 410.4L276.3 486.3C304 499.1 335.9 499.1 363.6 486.3L527.9 410.4L562 426.2C570.5 430.1 575.9 438.6 575.9 448C575.9 457.4 570.5 465.9 562 469.8L343.4 570.8C328.5 577.7 311.3 577.7 296.4 570.8L77.9 469.8C69.4 465.8 64 457.3 64 448C64 438.7 69.4 430.1 77.9 426.2z"/></svg>Batch Processing
      Dashboard
    </h3>
    <span
      class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs px-2 py-1 rounded"
      >Multi-file Operations</span
    >
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
    <!-- Batch Document Conversion -->
    <div
      class="bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-lg p-6 card-hover"
    >
      <div class="flex items-center mb-4">
        <div
          class="w-12 h-12 bg-blue-100 dark:bg-blue-700 rounded-lg flex items-center justify-center mr-4"
        >
          <svg class="fill-blue-600 w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 64C92.7 64 64 92.7 64 128L64 512C64 547.3 92.7 576 128 576L208 576L208 464C208 428.7 236.7 400 272 400L448 400L448 234.5C448 217.5 441.3 201.2 429.3 189.2L322.7 82.7C310.7 70.7 294.5 64 277.5 64L128 64zM389.5 240L296 240C282.7 240 272 229.3 272 216L272 122.5L389.5 240zM272 444C261 444 252 453 252 464L252 592C252 603 261 612 272 612C283 612 292 603 292 592L292 564L304 564C337.1 564 364 537.1 364 504C364 470.9 337.1 444 304 444L272 444zM304 524L292 524L292 484L304 484C315 484 324 493 324 504C324 515 315 524 304 524zM400 444C389 444 380 453 380 464L380 592C380 603 389 612 400 612L432 612C460.7 612 484 588.7 484 560L484 496C484 467.3 460.7 444 432 444L400 444zM420 572L420 484L432 484C438.6 484 444 489.4 444 496L444 560C444 566.6 438.6 572 432 572L420 572zM508 464L508 592C508 603 517 612 528 612C539 612 548 603 548 592L548 548L576 548C587 548 596 539 596 528C596 517 587 508 576 508L548 508L548 484L576 484C587 484 596 475 596 464C596 453 587 444 576 444L528 444C517 444 508 453 508 464z"/></svg>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 dark:text-white">
            Batch Document Conversion
          </h4>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            Convert multiple documents at once
          </p>
        </div>
      </div>
      <button
        onclick="showTool('batch_doc_convert', 'batch')"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg text-sm transition-colors"
      >
        Start Conversion
      </button>
    </div>

    <!-- Batch Image Processing -->
    <div
      class="bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-lg p-6 card-hover"
    >
      <div class="flex items-center mb-4">
        <div
          class="w-12 h-12 bg-green-100 dark:bg-green-700 rounded-lg flex items-center justify-center mr-4"
        >
            <svg class="fill-red-600 w-6 h-6 mt-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 160C128 124.7 156.7 96 192 96L512 96C547.3 96 576 124.7 576 160L576 416C576 451.3 547.3 480 512 480L192 480C156.7 480 128 451.3 128 416L128 160zM56 192C69.3 192 80 202.7 80 216L80 512C80 520.8 87.2 528 96 528L456 528C469.3 528 480 538.7 480 552C480 565.3 469.3 576 456 576L96 576C60.7 576 32 547.3 32 512L32 216C32 202.7 42.7 192 56 192zM224 224C241.7 224 256 209.7 256 192C256 174.3 241.7 160 224 160C206.3 160 192 174.3 192 192C192 209.7 206.3 224 224 224zM420.5 235.5C416.1 228.4 408.4 224 400 224C391.6 224 383.9 228.4 379.5 235.5L323.2 327.6L298.7 297C294.1 291.3 287.3 288 280 288C272.7 288 265.8 291.3 261.3 297L197.3 377C191.5 384.2 190.4 394.1 194.4 402.4C198.4 410.7 206.8 416 216 416L488 416C496.7 416 504.7 411.3 508.9 403.7C513.1 396.1 513 386.9 508.4 379.4L420.4 235.4z"/></svg>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 dark:text-white">
            Batch Image Processing
          </h4>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            Process multiple images simultaneously
          </p>
        </div>
      </div>
      <button
        onclick="showTool('batch_image_process', 'batch')"
        class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg text-sm transition-colors"
      >
        Start Processing
      </button>
    </div>

    <!-- Batch Audio Conversion -->
    <div
      class="bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900 dark:to-red-800 rounded-lg p-6 card-hover"
    >
      <div class="flex items-center mb-4">
        <div
          class="w-12 h-12 bg-red-100 dark:bg-red-700 rounded-lg flex items-center justify-center mr-4"
        >
          <svg class="h-6 w-6 fill-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 128C128 92.7 156.7 64 192 64L341.5 64C358.5 64 374.8 70.7 386.8 82.7L493.3 189.3C505.3 201.3 512 217.6 512 234.6L512 512C512 547.3 483.3 576 448 576L192 576C156.7 576 128 547.3 128 512L128 128zM336 122.5L336 216C336 229.3 346.7 240 360 240L453.5 240L336 122.5zM389.8 307.7C380.7 301.4 368.3 303.6 362 312.7C355.7 321.8 357.9 334.2 367 340.5C390.9 357.2 406.4 384.8 406.4 416C406.4 447.2 390.8 474.9 367 491.5C357.9 497.8 355.7 510.3 362 519.3C368.3 528.3 380.8 530.6 389.8 524.3C423.9 500.5 446.4 460.8 446.4 416C446.4 371.2 424 331.5 389.8 307.7zM208 376C199.2 376 192 383.2 192 392L192 440C192 448.8 199.2 456 208 456L232 456L259.2 490C262.2 493.8 266.8 496 271.7 496L272 496C280.8 496 288 488.8 288 480L288 352C288 343.2 280.8 336 272 336L271.7 336C266.8 336 262.2 338.2 259.2 342L232 376L208 376zM336 448.2C336 458.9 346.5 466.4 354.9 459.8C367.8 449.5 376 433.7 376 416C376 398.3 367.8 382.5 354.9 372.2C346.5 365.5 336 373.1 336 383.8L336 448.3z"/></svg>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 dark:text-white">
            Batch Audio Conversion
          </h4>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            Convert multiple audio files
          </p>
        </div>
      </div>
      <button
        onclick="showTool('batch_audio_convert', 'batch')"
        class="w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors"
      >
        Start Conversion
      </button>
    </div>

    <!-- Folder Operations -->
    <div
      class="bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900 dark:to-yellow-800 rounded-lg p-6 card-hover"
    >
      <div class="flex items-center mb-4">
        <div
          class="w-12 h-12 bg-yellow-100 dark:bg-yellow-700 rounded-lg flex items-center justify-center mr-4"
        >
          <svg class="h-5 w-5 fill-yellow-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 512L512 512C547.3 512 576 483.3 576 448L576 208C576 172.7 547.3 144 512 144L362.7 144C355.8 144 349 141.8 343.5 137.6L305.1 108.8C294 100.5 280.5 96 266.7 96L128 96C92.7 96 64 124.7 64 160L64 448C64 483.3 92.7 512 128 512z"/></svg>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 dark:text-white">
            Folder Operations
          </h4>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            Process entire folders recursively
          </p>
        </div>
      </div>
      <button
        onclick="showTool('folder_operations', 'batch')"
        class="w-full bg-yellow-600 hover:bg-yellow-700 text-white py-2 rounded-lg text-sm transition-colors"
      >
        Manage Folders
      </button>
    </div>

    <!-- Bulk OCR -->
    <div
      class="bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900 dark:to-indigo-800 rounded-lg p-6 card-hover"
    >
      <div class="flex items-center mb-4">
        <div
          class="w-12 h-12 bg-indigo-100 dark:bg-indigo-700 rounded-lg flex items-center justify-center mr-4"
        >
        <svg class="h-7 w-7 fill-indigo-600 dark:fill-indigo-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M72 96C49.9 96 32 113.9 32 136L32 192C32 209.7 46.3 224 64 224C81.7 224 96 209.7 96 192L96 160L160 160L160 480L128 480C110.3 480 96 494.3 96 512C96 529.7 110.3 544 128 544L256 544C273.7 544 288 529.7 288 512C288 494.3 273.7 480 256 480L224 480L224 160L288 160L288 192C288 209.7 302.3 224 320 224C337.7 224 352 209.7 352 192L352 136C352 113.9 334.1 96 312 96L72 96zM470.6 425.4C458.1 412.9 437.8 412.9 425.3 425.4C412.8 437.9 412.8 458.2 425.3 470.7L489.3 534.7C501.8 547.2 522.1 547.2 534.6 534.7L598.6 470.7C611.1 458.2 611.1 437.9 598.6 425.4C586.1 412.9 565.8 412.9 553.3 425.4L543.9 434.8L543.9 205.3L553.3 214.7C565.8 227.2 586.1 227.2 598.6 214.7C611.1 202.2 611.1 181.9 598.6 169.4L534.6 105.4C528.6 99.4 520.5 96 512 96C503.5 96 495.4 99.4 489.4 105.4L425.4 169.4C412.9 181.9 412.9 202.2 425.4 214.7C437.9 227.2 458.2 227.2 470.7 214.7L480.1 205.3L480.1 434.8L470.7 425.4z"/></svg>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 dark:text-white">
            Bulk OCR Processing
          </h4>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            Extract text from multiple images/documents
          </p>
        </div>
      </div>
      <button
        onclick="showTool('bulk_ocr', 'batch')"
        class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg text-sm transition-colors"
      >
        Start OCR
      </button>
    </div>

    <!-- Workflow Automation -->
    <div
      class="bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900 dark:to-pink-800 rounded-lg p-6 card-hover"
    >
      <div class="flex items-center mb-4">
        <div
          class="w-12 h-12 bg-pink-100 dark:bg-pink-700 rounded-lg flex items-center justify-center mr-4"
        >
          <!--robot-->
          <svg class="h-5 w-5 fill-pink-600 dark:fill-pink-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M352 64C352 46.3 337.7 32 320 32C302.3 32 288 46.3 288 64L288 128L192 128C139 128 96 171 96 224L96 448C96 501 139 544 192 544L448 544C501 544 544 501 544 448L544 224C544 171 501 128 448 128L352 128L352 64zM160 432C160 418.7 170.7 408 184 408L216 408C229.3 408 240 418.7 240 432C240 445.3 229.3 456 216 456L184 456C170.7 456 160 445.3 160 432zM280 432C280 418.7 290.7 408 304 408L336 408C349.3 408 360 418.7 360 432C360 445.3 349.3 456 336 456L304 456C290.7 456 280 445.3 280 432zM400 432C400 418.7 410.7 408 424 408L456 408C469.3 408 480 418.7 480 432C480 445.3 469.3 456 456 456L424 456C410.7 456 400 445.3 400 432zM224 240C250.5 240 272 261.5 272 288C272 314.5 250.5 336 224 336C197.5 336 176 314.5 176 288C176 261.5 197.5 240 224 240zM368 288C368 261.5 389.5 240 416 240C442.5 240 464 261.5 464 288C464 314.5 442.5 336 416 336C389.5 336 368 314.5 368 288zM64 288C64 270.3 49.7 256 32 256C14.3 256 0 270.3 0 288L0 384C0 401.7 14.3 416 32 416C49.7 416 64 401.7 64 384L64 288zM608 256C590.3 256 576 270.3 576 288L576 384C576 401.7 590.3 416 608 416C625.7 416 640 401.7 640 384L640 288C640 270.3 625.7 256 608 256z"/></svg>
        </div>
        <div>
          <h4 class="font-semibold text-gray-900 dark:text-white">
            Workflow Automation
          </h4>
          <p class="text-sm text-gray-600 dark:text-gray-300">
            Create automated processing workflows
          </p>
        </div>
      </div>
      <button
        onclick="showTool('workflow_automation', 'batch')"
        class="w-full bg-pink-600 hover:bg-pink-700 text-white py-2 rounded-lg text-sm transition-colors"
      >
        Create Workflow
      </button>
    </div>
  </div>

  <!-- Recent Batch Jobs -->
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6">
    <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">
      Recent Batch Jobs
    </h4>
    <div class="space-y-3">
      <div
        class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"
      >
        <div class="flex items-center gap-2">
          <svg class="fill-blue-500 w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M128 64C92.7 64 64 92.7 64 128L64 512C64 547.3 92.7 576 128 576L208 576L208 464C208 428.7 236.7 400 272 400L448 400L448 234.5C448 217.5 441.3 201.2 429.3 189.2L322.7 82.7C310.7 70.7 294.5 64 277.5 64L128 64zM389.5 240L296 240C282.7 240 272 229.3 272 216L272 122.5L389.5 240zM272 444C261 444 252 453 252 464L252 592C252 603 261 612 272 612C283 612 292 603 292 592L292 564L304 564C337.1 564 364 537.1 364 504C364 470.9 337.1 444 304 444L272 444zM304 524L292 524L292 484L304 484C315 484 324 493 324 504C324 515 315 524 304 524zM400 444C389 444 380 453 380 464L380 592C380 603 389 612 400 612L432 612C460.7 612 484 588.7 484 560L484 496C484 467.3 460.7 444 432 444L400 444zM420 572L420 484L432 484C438.6 484 444 489.4 444 496L444 560C444 566.6 438.6 572 432 572L420 572zM508 464L508 592C508 603 517 612 528 612C539 612 548 603 548 592L548 548L576 548C587 548 596 539 596 528C596 517 587 508 576 508L548 508L548 484L576 484C587 484 596 475 596 464C596 453 587 444 576 444L528 444C517 444 508 453 508 464z"/></svg>
          <div>
            <p class="font-medium text-gray-900 dark:text-white">
              Document Conversion
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-400">
              25 files processed
            </p>
          </div>
        </div>
        <span
          class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs px-2 py-1 rounded"
          >Completed</span
        >
      </div>
      <div
        class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"
      >
        <div class="flex items-center">
          <svg
            class="h-7 w-7 fill-red-500 mr-2"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 640"
          >
            <path
              d="M160 96C124.7 96 96 124.7 96 160L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 160C544 124.7 515.3 96 480 96L160 96zM224 176C250.5 176 272 197.5 272 224C272 250.5 250.5 272 224 272C197.5 272 176 250.5 176 224C176 197.5 197.5 176 224 176zM368 288C376.4 288 384.1 292.4 388.5 299.5L476.5 443.5C481 450.9 481.2 460.2 477 467.8C472.8 475.4 464.7 480 456 480L184 480C175.1 480 166.8 475 162.7 467.1C158.6 459.2 159.2 449.6 164.3 442.3L220.3 362.3C224.8 355.9 232.1 352.1 240 352.1C247.9 352.1 255.2 355.9 259.7 362.3L286.1 400.1L347.5 299.6C351.9 292.5 359.6 288.1 368 288.1z"
            /></svg>
          <div>
            <p class="font-medium text-gray-900 dark:text-white">
              Image Processing
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-400">
              Processing 48 files
            </p>
          </div>
        </div>
        <span
          class="bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 text-xs px-2 py-1 rounded"
          >In Progress</span
        >
      </div>
    </div>
  </div>
</div>

<!-- Batch Document Conversion -->
<div id="tool-batch_doc_convert" class="tool-interface hidden">
  <div class="flex items-center justify-between mb-6">
    <h3 class="flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white">
      <svg class="h-6 w-6 fill-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M288 64C252.7 64 224 92.7 224 128L224 384C224 419.3 252.7 448 288 448L480 448C515.3 448 544 419.3 544 384L544 183.4C544 166 536.9 149.3 524.3 137.2L466.6 81.8C454.7 70.4 438.8 64 422.3 64L288 64zM160 192C124.7 192 96 220.7 96 256L96 512C96 547.3 124.7 576 160 576L352 576C387.3 576 416 547.3 416 512L416 496L352 496L352 512L160 512L160 256L176 256L176 192L160 192z"/></svg>Batch Document Conversion
    </h3>
    <span
      class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded"
      >Multi-file</span
    >
  </div>

  <form id="batch-doc-form" class="space-y-6">
    {% csrf_token %}

    <!-- File/Folder Upload -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label
          class="flex gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"
        >
          <svg class="h-5 w-5 fill-gray-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M352 173.3L352 384C352 401.7 337.7 416 320 416C302.3 416 288 401.7 288 384L288 173.3L246.6 214.7C234.1 227.2 213.8 227.2 201.3 214.7C188.8 202.2 188.8 181.9 201.3 169.4L297.3 73.4C309.8 60.9 330.1 60.9 342.6 73.4L438.6 169.4C451.1 181.9 451.1 202.2 438.6 214.7C426.1 227.2 405.8 227.2 393.3 214.7L352 173.3zM320 464C364.2 464 400 428.2 400 384L480 384C515.3 384 544 412.7 544 448L544 480C544 515.3 515.3 544 480 544L160 544C124.7 544 96 515.3 96 480L96 448C96 412.7 124.7 384 160 384L240 384C240 428.2 275.8 464 320 464zM464 488C477.3 488 488 477.3 488 464C488 450.7 477.3 440 464 440C450.7 440 440 450.7 440 464C440 477.3 450.7 488 464 488z"/></svg>Upload Files or Folder
        </label>
        <div
          id="batch-doc-drop-zone"
          class="file-drop-zone rounded-lg p-6 text-center cursor-pointer border-2 border-dashed h-48 flex items-center justify-center"
        >
          <div class="drop-placeholder">
            <span class="flex justify-center">
                <svg class="h-8 w-8 fill-gray-400 mb-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M88 289.6L64.4 360.2L64.4 160C64.4 124.7 93.1 96 128.4 96L267.1 96C280.9 96 294.4 100.5 305.5 108.8L343.9 137.6C349.4 141.8 356.2 144 363.1 144L480.4 144C515.7 144 544.4 172.7 544.4 208L544.4 224L179 224C137.7 224 101 250.4 87.9 289.6zM509.8 512L131 512C98.2 512 75.1 479.9 85.5 448.8L133.5 304.8C140 285.2 158.4 272 179 272L557.8 272C590.6 272 613.7 304.1 603.3 335.2L555.3 479.2C548.8 498.8 530.4 512 509.8 512z"/></svg>
              </span>
            <p class="text-lg font-medium text-gray-600 dark:text-gray-400">
              Drop files or folder here
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
              Supports multiple files and folders
            </p>
          </div>
          <div class="file-list mt-4 space-y-2"></div>
        </div>
        <input
          type="file"
          id="batch-doc-file-input"
          name="files"
          multiple
          webkitdirectory
          accept=".pdf,.docx,.doc,.txt,.html"
          class="hidden"
        />
      </div>

      <div class="space-y-4">
        <!-- Conversion Settings -->
        <div>
          <label
            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
          >
            Target Format
          </label>
          <select
            name="target_format"
            class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          >
            <option value="pdf">PDF</option>
            <option value="docx">Word Document</option>
            <option value="txt">Plain Text</option>
            <option value="html">HTML</option>
          </select>
        </div>

        <!-- Processing Options -->
        <div>
          <label
            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
          >
            Processing Mode
          </label>
          <select
            name="processing_mode"
            class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          >
            <option value="parallel">Parallel Processing (Fast)</option>
            <option value="sequential">Sequential Processing (Stable)</option>
          </select>
        </div>

        <!-- Thread Control -->
        <div>
          <label
            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
          >
            <span>Parallel Threads: <span id="threads-value">3</span></span>
          </label>
          <input
            type="range"
            name="threads"
            min="1"
            max="10"
            value="3"
            class="w-full"
            oninput="document.getElementById('threads-value').textContent = this.value"
          />
        </div>
      </div>
    </div>

    <!-- Advanced Batch Options -->
    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
      <label
        class="flex items-center justify-between cursor-pointer"
        onclick="toggleAdvanced('batch-advanced')"
      >
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300"
          >Advanced Batch Options</span
        >
        <svg
          class="h-5 w-5 fill-gray-400"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 640 640"
        >
          <path
            d="M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z"
          />
        </svg>
        </label>
      <div
        id="batch-advanced"
        class="mt-3 hidden grid grid-cols-1 md:grid-cols-2 gap-4"
      >
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >File Name Pattern</label
          >
          <input
            type="text"
            name="file_pattern"
            placeholder="converted_{original}_{index}"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          />
        </div>
        <div>
          <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1"
            >Isolate Format</label
          >
          <input
            type="text"
            name="isolate_format"
            placeholder="pdf,docx"
            class="w-full p-2 text-sm border border-gray-300 dark:border-gray-600 rounded"
          />
        </div>
        <div class="md:col-span-2">
          <label class="flex items-center">
            <input
              type="checkbox"
              name="preserve_structure"
              class="rounded border-gray-300 text-blue-600"
            />
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
              >Preserve folder structure</span
            >
          </label>
          <label class="flex items-center mt-2">
            <input
              type="checkbox"
              name="overwrite_existing"
              class="rounded border-gray-300 text-blue-600"
            />
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
              >Overwrite existing files</span
            >
          </label>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex space-x-4">
      <button
        type="submit"
        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
      >
      <span class="flex justify-center items-center gap-2">
        <svg class="h-5 w-5 fill-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M64 320C64 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320C576 461.4 461.4 576 320 576C178.6 576 64 461.4 64 320zM252.3 211.1C244.7 215.3 240 223.4 240 232L240 408C240 416.7 244.7 424.7 252.3 428.9C259.9 433.1 269.1 433 276.6 428.4L420.6 340.4C427.7 336 432.1 328.3 432.1 319.9C432.1 311.5 427.7 303.8 420.6 299.4L276.6 211.4C269.2 206.9 259.9 206.7 252.3 210.9z"/></svg>Start Batch Conversion
       </span>
      </button>
      <button
        type="button"
        onclick="clearForm('batch-doc-form')"
        class="flex gap-2  items-center justify-center px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
      >
        <svg class="h-5 w-5 fill-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M232.7 69.9L224 96L128 96C110.3 96 96 110.3 96 128C96 145.7 110.3 160 128 160L512 160C529.7 160 544 145.7 544 128C544 110.3 529.7 96 512 96L416 96L407.3 69.9C402.9 56.8 390.7 48 376.9 48L263.1 48C249.3 48 237.1 56.8 232.7 69.9zM512 208L128 208L149.1 531.1C150.7 556.4 171.7 576 197 576L443 576C468.3 576 489.3 556.4 490.9 531.1L512 208z"/></svg>Clear All
      </button>
    </div>
  </form>

  <!-- Batch Progress -->
  <div id="batch-progress" class="mt-6 hidden">
    <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">
      Batch Progress
    </h4>
    <div class="space-y-4">
      <div class="flex justify-between text-sm">
        <span>Total Files: <strong id="total-files">0</strong></span>
        <span>Processed: <strong id="processed-files">0</strong></span>
        <span>Remaining: <strong id="remaining-files">0</strong></span>
      </div>
      <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
        <div
          id="batch-progress-bar"
          class="bg-green-600 h-3 rounded-full transition-all duration-300"
          style="width: 0%"
        ></div>
      </div>
      <div
        id="current-file"
        class="text-sm text-gray-600 dark:text-gray-400 text-center"
      ></div>
    </div>
  </div>
</div>

<!-- Folder Operations -->
<div id="tool-folder_operations" class="tool-interface hidden">
  <div class="flex items-center justify-between mb-6">
    <h3 class="flex gap-2 items-center text-xl font-semibold text-gray-900 dark:text-white">
      <svg class="h-5 w-5 fill-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M80 88C80 74.7 69.3 64 56 64C42.7 64 32 74.7 32 88L32 456C32 486.9 57.1 512 88 512L272 512L272 464L88 464C83.6 464 80 460.4 80 456L80 224L272 224L272 176L80 176L80 88zM368 288L560 288C586.5 288 608 266.5 608 240L608 144C608 117.5 586.5 96 560 96L477.3 96C468.8 96 460.7 92.6 454.7 86.6L446.1 78C437.1 69 424.9 63.9 412.2 63.9L368 64C341.5 64 320 85.5 320 112L320 240C320 266.5 341.5 288 368 288zM368 576L560 576C586.5 576 608 554.5 608 528L608 432C608 405.5 586.5 384 560 384L477.3 384C468.8 384 460.7 380.6 454.7 374.6L446.1 366C437.1 357 424.9 351.9 412.2 351.9L368 352C341.5 352 320 373.5 320 400L320 528C320 554.5 341.5 576 368 576z"/></svg>Folder Operations
    </h3>
    <span
      class="bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 text-xs px-2 py-1 rounded"
      >Recursive</span
    >
  </div>

  <form id="folder-operations-form" class="space-y-6">
    {% csrf_token %}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Source Folder -->
      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >
          Source Folder
        </label>
        <div class="flex space-x-2">
          <input
            type="text"
            id="source-folder"
            name="source_folder"
            placeholder="/path/to/source/folder"
            class="flex-1 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
          <button
            type="button"
            onclick="browseFolder('source')"
            class="px-4 py-3 bg-gray-50 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"
          >
            <span class="flex justify-center">
                <svg class="h-8 w-8 fill-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M88 289.6L64.4 360.2L64.4 160C64.4 124.7 93.1 96 128.4 96L267.1 96C280.9 96 294.4 100.5 305.5 108.8L343.9 137.6C349.4 141.8 356.2 144 363.1 144L480.4 144C515.7 144 544.4 172.7 544.4 208L544.4 224L179 224C137.7 224 101 250.4 87.9 289.6zM509.8 512L131 512C98.2 512 75.1 479.9 85.5 448.8L133.5 304.8C140 285.2 158.4 272 179 272L557.8 272C590.6 272 613.7 304.1 603.3 335.2L555.3 479.2C548.8 498.8 530.4 512 509.8 512z"/></svg>
            </span>
          </button>
        </div>
      </div>

      <!-- Output Folder -->
      <div>
        <label
          class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >
          Output Folder
        </label>
        <div class="flex space-x-2">
          <input
            type="text"
            id="output-folder"
            name="output_folder"
            placeholder="/path/to/output/folder"
            class="flex-1 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
          <button
            type="button"
            onclick="browseFolder('output')"
            class="px-4 py-3 bg-gray-50 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500"
          >
            <svg class="h-8 w-8 fill-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M576 448C576 483.3 547.3 512 512 512L128 512C92.7 512 64 483.3 64 448L64 160C64 124.7 92.7 96 128 96L266.7 96C280.5 96 294 100.5 305.1 108.8L343.5 137.6C349 141.8 355.8 144 362.7 144L512 144C547.3 144 576 172.7 576 208L576 448zM320 224C306.7 224 296 234.7 296 248L296 296L248 296C234.7 296 224 306.7 224 320C224 333.3 234.7 344 248 344L296 344L296 392C296 405.3 306.7 416 320 416C333.3 416 344 405.3 344 392L344 344L392 344C405.3 344 416 333.3 416 320C416 306.7 405.3 296 392 296L344 296L344 248C344 234.7 333.3 224 320 224z"/></svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Operation Type -->
    <div>
      <label
        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
      >
        Operation Type
      </label>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
        <label
          class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <input
            type="radio"
            name="operation"
            value="convert"
            class="text-blue-600 focus:ring-blue-500"
            checked
          />
          <span class="ml-2 text-sm">Convert</span>
        </label>
        <label
          class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <input
            type="radio"
            name="operation"
            value="compress"
            class="text-blue-600 focus:ring-blue-500"
          />
          <span class="ml-2 text-sm">Compress</span>
        </label>
        <label
          class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <input
            type="radio"
            name="operation"
            value="organize"
            class="text-blue-600 focus:ring-blue-500"
          />
          <span class="ml-2 text-sm">Organize</span>
        </label>
        <label
          class="flex items-center p-3 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <input
            type="radio"
            name="operation"
            value="clean"
            class="text-blue-600 focus:ring-blue-500"
          />
          <span class="ml-2 text-sm">Clean</span>
        </label>
      </div>
    </div>

    <!-- Recursive Options -->
    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
      <div class="flex items-center justify-between">
        <div>
          <label class="flex items-center">
            <input
              type="checkbox"
              name="recursive"
              class="rounded border-gray-300 text-blue-600"
              checked
            />
            <span
              class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"
              >Process subdirectories recursively</span
            >
          </label>
          <p class="text-xs text-gray-500 dark:text-gray-400 ml-6">
            Include all files in subfolders
          </p>
        </div>
        <div>
          <label class="flex items-center">
            <input
              type="checkbox"
              name="follow_symlinks"
              class="rounded border-gray-300 text-blue-600"
            />
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
              >Follow symbolic links</span
            >
          </label>
        </div>
      </div>
    </div>

    <div class="flex space-x-4">
      <button
        type="submit"
        class="flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
      >
      <span class="flex justify-center items-center gap-2">
        <svg class="h-5 w-5 fill-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M259.1 73.5C262.1 58.7 275.2 48 290.4 48L350.2 48C365.4 48 378.5 58.7 381.5 73.5L396 143.5C410.1 149.5 423.3 157.2 435.3 166.3L503.1 143.8C517.5 139 533.3 145 540.9 158.2L570.8 210C578.4 223.2 575.7 239.8 564.3 249.9L511 297.3C511.9 304.7 512.3 312.3 512.3 320C512.3 327.7 511.8 335.3 511 342.7L564.4 390.2C575.8 400.3 578.4 417 570.9 430.1L541 481.9C533.4 495 517.6 501.1 503.2 496.3L435.4 473.8C423.3 482.9 410.1 490.5 396.1 496.6L381.7 566.5C378.6 581.4 365.5 592 350.4 592L290.6 592C275.4 592 262.3 581.3 259.3 566.5L244.9 496.6C230.8 490.6 217.7 482.9 205.6 473.8L137.5 496.3C123.1 501.1 107.3 495.1 99.7 481.9L69.8 430.1C62.2 416.9 64.9 400.3 76.3 390.2L129.7 342.7C128.8 335.3 128.4 327.7 128.4 320C128.4 312.3 128.9 304.7 129.7 297.3L76.3 249.8C64.9 239.7 62.3 223 69.8 209.9L99.7 158.1C107.3 144.9 123.1 138.9 137.5 143.7L205.3 166.2C217.4 157.1 230.6 149.5 244.6 143.4L259.1 73.5zM320.3 400C364.5 399.8 400.2 363.9 400 319.7C399.8 275.5 363.9 239.8 319.7 240C275.5 240.2 239.8 276.1 240 320.3C240.2 364.5 276.1 400.2 320.3 400z"/></svg>Start Folder Processing
        </span>
      </button>
      <button
        type="button"
        onclick="scanFolder()"
        class="flex gap-2 items-center justify-center px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"
      >
        <svg class="h-5 w-5 fill-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M480 272C480 317.9 465.1 360.3 440 394.7L566.6 521.4C579.1 533.9 579.1 554.2 566.6 566.7C554.1 579.2 533.8 579.2 521.3 566.7L394.7 440C360.3 465.1 317.9 480 272 480C157.1 480 64 386.9 64 272C64 157.1 157.1 64 272 64C386.9 64 480 157.1 480 272zM272 416C351.5 416 416 351.5 416 272C416 192.5 351.5 128 272 128C192.5 128 128 192.5 128 272C128 351.5 192.5 416 272 416z"/></svg>Scan Folder
      </button>
    </div>
  </form>

  <!-- Folder Scan Results -->
  <div id="folder-scan-results" class="mt-6 hidden">
    <h4 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">
      Folder Contents
    </h4>
    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
      <div class="flex justify-between text-sm mb-4">
        <span>Total Files: <strong id="scan-total">0</strong></span>
        <span>Total Size: <strong id="scan-size">0 MB</strong></span>
        <span>File Types: <strong id="scan-types">0</strong></span>
      </div>
      <div id="file-type-breakdown" class="space-y-2">
        <!-- File type breakdown will be populated here -->
      </div>
    </div>
  </div>
</div>
